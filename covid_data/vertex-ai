flowchart TD
    U["User Handwriting"]
    OCR["OCR Service - Handwriting Recognition"]
    A["App Interface - Language Assist/Translation App"]
    CS["Cloud Storage - Input & Output Data"]
    ME["Matching Engine- Embeddings & Context"]
    VA["Vertex AI - LLM Hosting"]
    LLM["LLM Pipeline - Translation/Language Assist"]
    O["Output - Translated/Assisted Text"]

    U -->|Captures handwriting| OCR
    OCR -->|Converts to text| A
    A -->|Stores raw input| CS
    A -->|Retrieves relevant context| ME
    A -->|Sends processing request| VA
    VA -->|Invokes| LLM
    LLM -->|Returns result| VA
    VA -->|Sends translated/assisted text| O
    O -->|Displayed in app| A
    A -->|Response delivered| U


flowchart TD
    DS["Data Sources (Multiple DBs & Schemas)"]
    CR["Cloud Run (ETL & API)"]
    META["Metadata Repository (Cloud SQL)"]
    PS["Pub/Sub (Event Bus)"]
    EMB["Embedding Generation (Vertex AI)"]
    VDB["Vector Database (Matching Engine)"]
    UI["User Interface (Web App)"]
    LLM["LLM Pipeline (Vertex AI LLM)"]
    RESP["Response (Catalog Info)"]

    DS --> CR
    CR --> META
    META --> PS
    PS --> EMB
    EMB --> VDB
    UI --> LLM
    LLM --> VDB
    VDB --> LLM
    LLM --> RESP
